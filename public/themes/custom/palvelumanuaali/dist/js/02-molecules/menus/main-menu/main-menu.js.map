{"version":3,"file":"js/02-molecules/menus/main-menu/main-menu.js","mappings":"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","sources":["webpack://palvelumanuaali/./components/02-molecules/menus/main-menu/main-menu.js"],"sourcesContent":["(function ($, Drupal, window) {\n  'use strict';\nDrupal.behaviors.mainMenu = {\n      attach: function (context, settings) {\n\n      let toggleExpand = $('.header__inner >.toggle-expand');\n      let toggleInnerExpand = $('.header-main-nav .toggle-expand');\n      let menu = $('.header-main-nav .main-nav');\n      let header = $('.header__primary');\n      let additionalMenu = $('.header__primary .additional-links-menu-nav');\n      let body = $('body');\n    if (typeof menu !== 'undefined' || menu == null) {\n      let expandMenu = menu[0].getElementsByClassName('expand-sub');\n      let menuSub = menu[0].getElementsByClassName('main-menu__item--with-sub');\n\n      // Loop through main-menu items for active element and open them\n      Array.from(menuSub).forEach((menuItem) => {\n        if (menuItem.classList.contains('main-menu__item--active')){\n          const activeExpand = menuItem.querySelector('.expand-sub');\n          const activeMenu = activeExpand.nextElementSibling;\n          if (activeExpand) {\n            activeExpand.classList.toggle('expand-sub--open');\n          }\n          if (activeMenu) {\n            activeMenu.classList.toggle('main-menu--sub-open');\n          }\n        }\n      });\n\n      // Expose mobile sub menu on click.\n      Array.from(expandMenu).forEach((item) => {\n        item.addEventListener('click', (e) => {\n          const menuItem = e.currentTarget;\n          const subMenu = menuItem.nextElementSibling;\n          if (menuItem) {\n            menuItem.classList.toggle('expand-sub--open');\n          }\n          if (subMenu) {\n            subMenu.classList.toggle('main-menu--sub-open');\n          }\n        });\n      });\n\n      // Mobile Menu Show/Hide.\n      toggleExpand[0].addEventListener('click', (e) => {\n        if (toggleExpand[0]) {\n        toggleInnerExpand[0].classList.toggle('toggle-expand--open');\n        }\n        if (additionalMenu[0]) {\n          additionalMenu[0].classList.toggle('additional-links-menu-nav--open');\n        }\n        body[0].classList.toggle('no-scroll');\n        menu[0].classList.toggle('main-nav--open');\n        header[0].classList.toggle('header__primary-mobile');\n        header.removeClass('slide-out');\n        header[0].classList.toggle('slide-in');\n\n\n\n       });\n\n      // Mobile Menu Show/Hide.\n      toggleInnerExpand[0].addEventListener('click', (e) => {\n        if (toggleInnerExpand[0]) {\n          toggleInnerExpand[0].classList.toggle('toggle-expand--open');\n        }\n        if (additionalMenu[0]) {\n          additionalMenu[0].classList.toggle('additional-links-menu-nav--open');\n        }\n        menu[0].classList.toggle('main-nav--open');\n        header[0].classList.toggle('slide-in');\n        header[0].classList.toggle('slide-out');\n        body[0].classList.toggle('no-scroll');\n        setTimeout(function() { header[0].classList.toggle('header__primary-mobile'); }, 1000);\n        e.preventDefault();\n\n      });\n\n\n\n\n    }\n\n    $(context).ajaxStop(function () {\n\n\n      let toggleExpand = $('.header__inner >.toggle-expand');\n      let toggleInnerExpand = $('.header-main-nav .toggle-expand');\n      let menu = $('.header-main-nav .main-nav');\n      let header = $('.header__primary');\n      let additionalMenu = $('.header__primary .additional-links-menu-nav');\n      let body = $('body');\n\n    if (typeof menu !== 'undefined' || menu == null) {\n      let expandMenu = menu[0].getElementsByClassName('expand-sub');\n      let menuSub = menu[0].getElementsByClassName('main-menu__item--with-sub');\n\n      // Loop through main-menu items for active element and open them\n      Array.from(menuSub).forEach((menuItem) => {\n        if (menuItem.classList.contains('main-menu__item--active')){\n          const activeExpand = menuItem.querySelector('.expand-sub');\n          const activeMenu = activeExpand.nextElementSibling;\n          if (activeExpand) {\n            activeExpand.classList.toggle('expand-sub--open');\n          }\n          if (activeMenu) {\n            activeMenu.classList.toggle('main-menu--sub-open');\n          }\n        }\n      });\n\n      // Expose mobile sub menu on click.\n      Array.from(expandMenu).forEach((item) => {\n        item.addEventListener('click', (e) => {\n          const menuItem = e.currentTarget;\n          const subMenu = menuItem.nextElementSibling;\n          if (menuItem) {\n            menuItem.classList.toggle('expand-sub--open');\n          }\n          if (subMenu) {\n            subMenu.classList.toggle('main-menu--sub-open');\n          }\n        });\n      });\n\n      // Mobile Menu Show/Hide.\n      toggleExpand[0].addEventListener('click', (e) => {\n        if (toggleExpand[0]) {\n        toggleInnerExpand[0].classList.toggle('toggle-expand--open');\n        }\n        if (additionalMenu[0]) {\n          additionalMenu[0].classList.toggle('additional-links-menu-nav--open');\n        }\n\n        body[0].classList.toggle('no-scroll');\n        menu[0].classList.toggle('main-nav--open');\n        header[0].classList.toggle('header__primary-mobile');\n        header.removeClass('slide-out');\n        header[0].classList.toggle('slide-in');\n        e.preventDefault();\n\n      });\n\n      // Mobile Menu Show/Hide.\n      toggleInnerExpand[0].addEventListener('click', (e) => {\n        if (toggleInnerExpand[0]) {\n          toggleInnerExpand[0].classList.toggle('toggle-expand--open');\n        }\n        if (additionalMenu[0]) {\n          additionalMenu[0].classList.toggle('additional-links-menu-nav--open');\n        }\n        menu[0].classList.toggle('main-nav--open');\n        header[0].classList.toggle('slide-in');\n        header[0].classList.toggle('slide-out');\n        body[0].classList.toggle('no-scroll');\n        setTimeout(function() { header[0].classList.toggle('header__primary-mobile'); }, 1000);\n        e.preventDefault();\n      });\n\n    }\n\n    });\n  },\n\n};\n})(jQuery, Drupal, this);\n"],"names":["$","Drupal","behaviors","mainMenu","attach","context","toggleExpand","toggleInnerExpand","menu","header","additionalMenu","body","expandMenu","getElementsByClassName","menuSub","Array","from","forEach","menuItem","classList","contains","activeExpand","querySelector","activeMenu","nextElementSibling","toggle","item","addEventListener","e","currentTarget","subMenu","removeClass","setTimeout","preventDefault","ajaxStop","jQuery"],"sourceRoot":""}