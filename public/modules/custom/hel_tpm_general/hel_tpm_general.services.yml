services:
  hel_tpm_general.group_node_add_access_service:
    class: Drupal\hel_tpm_general\Access\GroupNodeCreateAccessService
    arguments: ['@group.membership_loader', '@access_check.group_content.create_entity', '@router.no_access_checks', '@current_user']
  hel_tpm_general.purge.queue.txbufferunique:
    public: true
    class: Drupal\hel_tpm_general\Plugin\Purge\Queue\TxBufferUnique
    decorates: purge.queue.txbuffer
    decoration_priority: 9
    arguments: ['@plugin.manager.purge.queue', '@database', '@config.factory']

  hel_tpm_general.revision_list_route_event_subscriber:
    class: Drupal\hel_tpm_general\EventSubscriber\RevisionListRouteSubscriber
    arguments: ['@entity_type.manager']
    tags:
      - { name: event_subscriber }

  hel_tpm_general.content_lock_theme_subscriber:
    class: Drupal\hel_tpm_general\EventSubscriber\ContentLockThemeSubscriber
    arguments: [
      '@theme.manager',
      '@theme.initialization',
      '@router.no_access_checks',
      '@config.factory'
    ]
    tags:
      - { name: event_subscriber }
