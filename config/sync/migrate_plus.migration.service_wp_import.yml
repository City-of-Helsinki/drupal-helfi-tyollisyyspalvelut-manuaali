uuid: 8059c9ba-ca9b-4bcb-a387-501bcca0c1b4
langcode: en
status: true
dependencies: {  }
id: service_wp_import
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: null
migration_group: null
label: 'Import services'
source: 
  plugin: csv
  path: '/app/services.csv'
  delimiter: ','
  enclosure: '"'
  header_row_count: 1
  ids:
    - 'Tunnuksen numerointi'
  constants:
    timestamp: '20:59'
process:
  title: 'Palvelun nimi'
  field_description: 'Palvelun tiivistelmä'
  field_service_set:
    -
      plugin: skip_on_empty
      source: Palvelukokonaisuus
      method: process
    -
      plugin: entity_generate
      entity_type: taxonomy_term
      value_key: name
      bundle_key: vid
      bundle: service_set
      ignore_case: true
  field_tags:
    -
      plugin: skip_on_empty
      source: 'Palvelun asiasana'
      method: process
    -
      plugin: explode
      delimiter: ','
    -
      plugin: callback
      callable: trim
    -
      plugin: entity_generate
      entity_type: taxonomy_term
      value_key: name
      bundle_key: vid
      bundle: service_tags
      ignore_case: true
  field_service_implement: 'Palvelun toteutus'
  field_service_links_external/0/uri:
    -
      plugin: skip_on_empty
      source: 'Palveluun liittyvät linkit'
      method: process
    -
      plugin: tpm_handle_url
  created:
    -
      plugin: skip_on_empty
      source: 'Tallennettu ensimmäisen kerran'
      method: process
    -
      plugin: tpm_format_date
  changed:
    -
      plugin: skip_on_empty
      method: process
      source: Muokkausajankohta
    -
      plugin: tpm_format_date
  moderation_state:
    plugin: static_map
    source: 'Palvelustatus '
    map:
      'Aktiivinen': published
    default_value: draft
destination:
  plugin: 'entity:node'
  default_bundle: service
migration_dependencies: null
